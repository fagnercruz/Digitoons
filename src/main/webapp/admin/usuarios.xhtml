<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
	<title>Digitoons :: Novo usuário</title>
</h:head>
<h:body>

	<!-- BARRA DE MENU -->
		<h:link value="Home" outcome="/index?faces-redirect=true" />
		
		<h:panelGroup rendered="#{usuarioLogado == null}">
			<h:outputText value="Olá Visitante, Efetue o login " />
			<h:link value="[aquí]" outcome="login" />
		</h:panelGroup>
		
		<h:form id="userLogadoForm" rendered="#{usuarioLogado != null}">
			<h:outputText value="Olá #{usuarioLogado.nome} - "  />
			<h:commandLink value="[Logout]" action="#{loginMBean.logout}" />
		</h:form>
	<!-- /BARRA DE MENU -->
	
	
	<h:form id="userForm" enctype="multipart/form-data">
		
			<h2>Novo usuário</h2>
			<h:panelGrid columns="2" columnClasses="p-col-6" styleClass="showcase-text-align-center">
				<h:outputLabel for="nome" value="Nome:" />
				<h:inputText id="nome" value="#{usuarioMBean.usuario.nome}" />
				
				<h:outputLabel for="email" value="E-mail:" />
				<h:inputText id="email" value="#{usuarioMBean.usuario.email}" />
				
				<h:outputLabel for="userImg" value="Foto:" />
				<h:inputFile id="userImg" />
				
				<h:outputLabel />
				<h:commandButton value="Salvar" action="#{usuarioMBean.salvar}"/>
				
			</h:panelGrid>
		
	</h:form>
	<hr/>
	<h3>Usuários Cadastrados</h3>
	<h:dataTable var="usuario" value="#{usuarioMBean.listaUsuarios}" id="tabelaUsuarios" styleClass="table table-hover mx-auto">
		<h:column>
			<f:facet name="header">nº</f:facet>
			#{usuario.id}
		</h:column>
		<h:column>
			<f:facet name="header">Foto</f:facet>
			#{usuario.caminhoDaImagem}
		</h:column>
		<h:column>
			<f:facet name="header">Nome</f:facet>
			#{usuario.nome}
		</h:column>
		<h:column>
			<f:facet name="header">E-mail</f:facet>
			#{usuario.email}
		</h:column>
	</h:dataTable>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</h:body>
</html>